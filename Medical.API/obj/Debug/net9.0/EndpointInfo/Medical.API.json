{
  "openapi": "3.0.1",
  "info": {
    "title": "医疗咨询系统 API",
    "description": "医疗咨询系统 RESTful API 文档",
    "contact": {
      "name": "医疗系统开发团队",
      "email": "support@medical.com"
    },
    "version": "v1"
  },
  "paths": {
    "/api/Activities": {
      "get": {
        "tags": [
          "Activities"
        ],
        "summary": "获取活动列表",
        "parameters": [
          {
            "name": "isHot",
            "in": "query",
            "description": "是否热门",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "activityType",
            "in": "query",
            "description": "活动类型",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（标题、描述）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Activities"
        ],
        "summary": "创建活动",
        "requestBody": {
          "description": "活动信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Activities/{id}": {
      "get": {
        "tags": [
          "Activities"
        ],
        "summary": "根据ID获取活动详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "活动ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Activities"
        ],
        "summary": "更新活动",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "活动ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "活动信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Activities"
        ],
        "summary": "删除活动",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "活动ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/AdminAuth/login": {
      "post": {
        "tags": [
          "AdminAuth"
        ],
        "summary": "管理员登录（只允许 UserTypeId = 1 且通过 UserRoles 关联表查询到的角色为 Admin 或 SuperAdmin 的用户）",
        "requestBody": {
          "description": "登录信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLoginRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLoginRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLoginRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/AiDiagnosis/chat": {
      "post": {
        "tags": [
          "AiDiagnosis"
        ],
        "summary": "AI预诊接口",
        "requestBody": {
          "description": "预诊请求",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AiDiagnosisRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AiDiagnosisRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AiDiagnosisRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AiDiagnosisResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "用户注册",
        "requestBody": {
          "description": "注册信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "用户登录",
        "requestBody": {
          "description": "登录信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Carts": {
      "get": {
        "tags": [
          "Carts"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Carts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Cart"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Cart"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Cart"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Carts/tree": {
      "get": {
        "tags": [
          "Carts"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Carts/{id}": {
      "delete": {
        "tags": [
          "Carts"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Carts/user/{userId}": {
      "delete": {
        "tags": [
          "Carts"
        ],
        "summary": "按用户ID删除该用户的所有购物车及其商品项",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Carts/{cartId}/items": {
      "post": {
        "tags": [
          "Carts"
        ],
        "parameters": [
          {
            "name": "cartId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CartItem"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CartItem"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CartItem"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Carts/items/{itemId}": {
      "delete": {
        "tags": [
          "Carts"
        ],
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ConsultationMessages": {
      "get": {
        "tags": [
          "ConsultationMessages"
        ],
        "summary": "获取咨询消息列表",
        "parameters": [
          {
            "name": "consultationId",
            "in": "query",
            "description": "咨询ID（可选，用于筛选特定咨询的消息）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ConsultationMessages"
        ],
        "summary": "创建咨询消息",
        "requestBody": {
          "description": "消息信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationMessageDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationMessageDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationMessageDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationMessage"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/ConsultationMessages/{id}": {
      "get": {
        "tags": [
          "ConsultationMessages"
        ],
        "summary": "根据ID获取咨询消息详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "消息ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationMessage"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "ConsultationMessages"
        ],
        "summary": "更新咨询消息",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "消息ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "消息信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationMessageDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationMessageDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationMessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationMessage"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "ConsultationMessages"
        ],
        "summary": "删除咨询消息",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "消息ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Consultations": {
      "get": {
        "tags": [
          "Consultations"
        ],
        "summary": "获取咨询列表（管理员可查看所有，普通用户只能查看自己的）",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（用户名、医生名）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Consultations"
        ],
        "summary": "创建咨询",
        "requestBody": {
          "description": "咨询信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Consultation"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Consultations/{id}": {
      "get": {
        "tags": [
          "Consultations"
        ],
        "summary": "根据ID获取咨询详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "咨询ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Consultation"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Consultations"
        ],
        "summary": "更新咨询",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "咨询ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "咨询信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConsultationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Consultation"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Consultations"
        ],
        "summary": "删除咨询",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "咨询ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Consultations/{consultationId}/messages": {
      "post": {
        "tags": [
          "Consultations"
        ],
        "summary": "发送咨询消息",
        "parameters": [
          {
            "name": "consultationId",
            "in": "path",
            "description": "咨询ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "消息内容",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsultationMessage"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsultationMessage"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ConsultationMessage"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationMessage"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Dashboard/patient-count": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "获取患者总数",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              }
            }
          }
        }
      }
    },
    "/api/Dashboard/doctor-count": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "获取医生总数",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              }
            }
          }
        }
      }
    },
    "/api/Dashboard/consultation-message-count": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "获取咨询消息总数",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              }
            }
          }
        }
      }
    },
    "/api/Dashboard/department-patient-distribution": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "获取科室的患者人数就诊占比（饼状图数据）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Dashboard/doctor-consultation-ranking": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "获取医生的就诊次数排名（柱状图数据）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Dashboard/doctor-activity-ranking": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "获取医生的活跃度排名（二维图表，只显示前十名）\r\n活跃度 = 咨询次数 + 咨询消息数",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Departments": {
      "get": {
        "tags": [
          "Departments"
        ],
        "summary": "获取所有科室",
        "parameters": [
          {
            "name": "isHot",
            "in": "query",
            "description": "是否只获取热门科室",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（科室名称、描述）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Departments"
        ],
        "summary": "创建科室",
        "requestBody": {
          "description": "科室信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Department"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Department"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Department"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Department"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Departments/{id}": {
      "get": {
        "tags": [
          "Departments"
        ],
        "summary": "根据ID获取科室详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "科室ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Department"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Departments"
        ],
        "summary": "更新科室",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "科室ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "科室信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Department"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Department"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Department"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Department"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Departments"
        ],
        "summary": "删除科室",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "科室ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Departments/{id}/diseases": {
      "get": {
        "tags": [
          "Departments"
        ],
        "summary": "获取科室的疾病分类",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "科室ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DiseaseCategory"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/DiseaseCategories/tree": {
      "get": {
        "tags": [
          "DiseaseCategories"
        ],
        "summary": "获取所有科室及其疾病分类（树形结构，支持分页）",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/DiseaseCategories": {
      "get": {
        "tags": [
          "DiseaseCategories"
        ],
        "parameters": [
          {
            "name": "departmentId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "DiseaseCategories"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiseaseCategoryDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiseaseCategoryDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiseaseCategoryDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiseaseCategory"
                }
              }
            }
          }
        }
      }
    },
    "/api/DiseaseCategories/{id}": {
      "get": {
        "tags": [
          "DiseaseCategories"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiseaseCategory"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "DiseaseCategories"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiseaseCategoryDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiseaseCategoryDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiseaseCategoryDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "DiseaseCategories"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Doctors": {
      "get": {
        "tags": [
          "Doctors"
        ],
        "summary": "获取医生列表",
        "parameters": [
          {
            "name": "departmentId",
            "in": "query",
            "description": "科室ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "isRecommended",
            "in": "query",
            "description": "是否推荐（可选）",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（姓名、医院、擅长）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码（默认1）",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量（默认10）",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Doctors"
        ],
        "summary": "创建医生",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDoctorDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDoctorDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDoctorDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Doctor"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Doctors/{id}": {
      "get": {
        "tags": [
          "Doctors"
        ],
        "summary": "根据ID获取医生详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "医生ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DoctorDetailDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Doctors"
        ],
        "summary": "更新医生信息",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "医生ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "医生信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDoctorDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDoctorDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDoctorDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DoctorDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Doctors"
        ],
        "summary": "删除医生",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "医生ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Doctors/search": {
      "get": {
        "tags": [
          "Doctors"
        ],
        "summary": "搜索医生",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词（姓名、医院、擅长）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DoctorDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Doctors/my-consulted-doctors": {
      "get": {
        "tags": [
          "Doctors"
        ],
        "summary": "获取当前患者咨询过的医生列表",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/DrugCategories": {
      "get": {
        "tags": [
          "DrugCategories"
        ],
        "summary": "获取药品分类列表（树形结构）",
        "parameters": [
          {
            "name": "includeInactive",
            "in": "query",
            "description": "是否包含未启用的分类",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（分类名称、描述）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "DrugCategories"
        ],
        "summary": "创建药品分类",
        "requestBody": {
          "description": "分类信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugCategoryDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugCategoryDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugCategoryDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DrugCategory"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/DrugCategories/tree": {
      "get": {
        "tags": [
          "DrugCategories"
        ],
        "summary": "获取分类树（包含子分类）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/DrugCategories/{id}": {
      "get": {
        "tags": [
          "DrugCategories"
        ],
        "summary": "根据ID获取分类详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "分类ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DrugCategory"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "DrugCategories"
        ],
        "summary": "更新药品分类",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "分类ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "分类信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugCategoryDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugCategoryDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugCategoryDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DrugCategory"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "DrugCategories"
        ],
        "summary": "删除药品分类",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "分类ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/DrugInventories": {
      "get": {
        "tags": [
          "DrugInventories"
        ],
        "summary": "获取药品库存列表",
        "parameters": [
          {
            "name": "drugId",
            "in": "query",
            "description": "药品ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "warehouseLocation",
            "in": "query",
            "description": "库位（可选）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/DrugInventories/{id}": {
      "get": {
        "tags": [
          "DrugInventories"
        ],
        "summary": "根据ID获取库存详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "库存ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DrugInventory"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/DrugInventories/drug/{drugId}/total": {
      "get": {
        "tags": [
          "DrugInventories"
        ],
        "summary": "获取药品的总库存（所有库位）",
        "parameters": [
          {
            "name": "drugId",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Drugs": {
      "get": {
        "tags": [
          "Drugs"
        ],
        "summary": "获取药品列表",
        "parameters": [
          {
            "name": "categoryId",
            "in": "query",
            "description": "分类ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（通用名、商品名、批准文号）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Drugs"
        ],
        "summary": "创建药品",
        "requestBody": {
          "description": "药品信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Drug"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Drugs/{id}": {
      "get": {
        "tags": [
          "Drugs"
        ],
        "summary": "根据ID获取药品详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Drug"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Drugs"
        ],
        "summary": "更新药品",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "药品信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Drug"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Drugs"
        ],
        "summary": "删除药品（逻辑删除）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/DrugStockIns": {
      "get": {
        "tags": [
          "DrugStockIns"
        ],
        "summary": "获取入库单列表",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选（可选）",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期（可选）",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期（可选）",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "DrugStockIns"
        ],
        "summary": "创建入库单（包含明细）",
        "requestBody": {
          "description": "入库单信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugStockInHeadDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugStockInHeadDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDrugStockInHeadDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DrugStockInHead"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/DrugStockIns/{id}": {
      "get": {
        "tags": [
          "DrugStockIns"
        ],
        "summary": "根据ID获取入库单详情（包含明细）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "入库单ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/DrugStockIns/{id}/cancel": {
      "post": {
        "tags": [
          "DrugStockIns"
        ],
        "summary": "取消入库单（回退库存）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "入库单ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/ExaminationReports": {
      "get": {
        "tags": [
          "ExaminationReports"
        ],
        "summary": "获取检查报告列表",
        "parameters": [
          {
            "name": "patientId",
            "in": "query",
            "description": "患者ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "doctorId",
            "in": "query",
            "description": "医生ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "examinationType",
            "in": "query",
            "description": "检查类型（可选）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ExaminationReports"
        ],
        "summary": "创建检查报告",
        "requestBody": {
          "description": "检查报告信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExaminationReportDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExaminationReportDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExaminationReportDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExaminationReport"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/ExaminationReports/{id}": {
      "get": {
        "tags": [
          "ExaminationReports"
        ],
        "summary": "根据ID获取检查报告详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "检查报告ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExaminationReport"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "ExaminationReports"
        ],
        "summary": "更新检查报告",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "检查报告ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "检查报告信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExaminationReportDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExaminationReportDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExaminationReportDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExaminationReport"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "ExaminationReports"
        ],
        "summary": "删除检查报告",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "检查报告ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Feedbacks": {
      "post": {
        "tags": [
          "Feedbacks"
        ],
        "summary": "提交反馈（无需登录）",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFeedbackDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFeedbackDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFeedbackDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Feedbacks"
        ],
        "summary": "获取反馈列表（管理员）",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Feedbacks/{id}": {
      "get": {
        "tags": [
          "Feedbacks"
        ],
        "summary": "获取反馈详情（管理员）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Feedbacks"
        ],
        "summary": "更新反馈（管理员）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFeedbackDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFeedbackDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFeedbackDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Feedbacks"
        ],
        "summary": "删除反馈（管理员）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/FinancialFees": {
      "get": {
        "tags": [
          "FinancialFees"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "feeType",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "FinancialFees"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialFee"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialFee"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialFee"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialFee"
                }
              }
            }
          }
        }
      }
    },
    "/api/FinancialFees/{id}": {
      "get": {
        "tags": [
          "FinancialFees"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialFee"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "FinancialFees"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialFee"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialFee"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialFee"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialFee"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "FinancialFees"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/FinancialPayables": {
      "get": {
        "tags": [
          "FinancialPayables"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "FinancialPayables"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialPayable"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialPayable"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialPayable"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialPayable"
                }
              }
            }
          }
        }
      }
    },
    "/api/FinancialPayables/{id}": {
      "get": {
        "tags": [
          "FinancialPayables"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialPayable"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "FinancialPayables"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialPayable"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialPayable"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialPayable"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialPayable"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "FinancialPayables"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/FinancialReceivables": {
      "get": {
        "tags": [
          "FinancialReceivables"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "FinancialReceivables"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialReceivable"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialReceivable"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialReceivable"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialReceivable"
                }
              }
            }
          }
        }
      }
    },
    "/api/FinancialReceivables/{id}": {
      "get": {
        "tags": [
          "FinancialReceivables"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialReceivable"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "FinancialReceivables"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialReceivable"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialReceivable"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialReceivable"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialReceivable"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "FinancialReceivables"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/FinancialSettlements": {
      "get": {
        "tags": [
          "FinancialSettlements"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "FinancialSettlements"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialSettlement"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialSettlement"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialSettlement"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialSettlement"
                }
              }
            }
          }
        }
      }
    },
    "/api/FinancialSettlements/{id}": {
      "get": {
        "tags": [
          "FinancialSettlements"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialSettlement"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "FinancialSettlements"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialSettlement"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialSettlement"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialSettlement"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialSettlement"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "FinancialSettlements"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/HealthKnowledge": {
      "get": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "获取健康知识列表",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "description": "分类",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isHot",
            "in": "query",
            "description": "是否热门",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "isRecommended",
            "in": "query",
            "description": "是否推荐",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（标题、摘要、内容）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "创建健康知识",
        "requestBody": {
          "description": "健康知识信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HealthKnowledge"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/HealthKnowledge"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/HealthKnowledge"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthKnowledge"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/HealthKnowledge/{id}": {
      "get": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "根据ID获取健康知识详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "健康知识ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthKnowledge"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "更新健康知识",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "健康知识ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "健康知识信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HealthKnowledge"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/HealthKnowledge"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/HealthKnowledge"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthKnowledge"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "删除健康知识",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "健康知识ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/HealthKnowledge/search": {
      "get": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "搜索健康知识",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/HealthKnowledge"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/HealthKnowledge/{id}/favorite": {
      "post": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "收藏健康知识",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "健康知识ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/HealthKnowledge/{id}/favorite/check": {
      "get": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "检查用户是否已收藏",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "健康知识ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/HealthKnowledge/my-favorites": {
      "get": {
        "tags": [
          "HealthKnowledge"
        ],
        "summary": "获取当前用户收藏的健康知识列表",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/IpLocation/province": {
      "get": {
        "tags": [
          "IpLocation"
        ],
        "summary": "获取当前用户的IP归属地信息",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": { }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/MedicalRecords": {
      "get": {
        "tags": [
          "MedicalRecords"
        ],
        "summary": "获取病历列表",
        "parameters": [
          {
            "name": "patientId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "doctorId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "MedicalRecords"
        ],
        "summary": "创建病历",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalRecordDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalRecordDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalRecordDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalRecord"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/MedicalRecords/{id}": {
      "get": {
        "tags": [
          "MedicalRecords"
        ],
        "summary": "根据ID获取病历详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "MedicalRecords"
        ],
        "summary": "更新病历（允许患者追加补充）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMedicalRecordDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMedicalRecordDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMedicalRecordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalRecord"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "MedicalRecords"
        ],
        "summary": "删除病历",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Medicines": {
      "get": {
        "tags": [
          "Medicines"
        ],
        "summary": "获取药品列表",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Medicine"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Medicines"
        ],
        "summary": "创建药品",
        "requestBody": {
          "description": "药品信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Medicine"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Medicine"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Medicine"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Medicine"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Medicines/{id}": {
      "get": {
        "tags": [
          "Medicines"
        ],
        "summary": "根据ID获取药品详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Medicine"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Medicines"
        ],
        "summary": "更新药品",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "药品信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Medicine"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Medicine"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Medicine"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Medicine"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Medicines"
        ],
        "summary": "删除药品",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "药品ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/MenuPermissions": {
      "get": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "获取所有菜单权限配置",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "创建或更新菜单权限配置",
        "requestBody": {
          "description": "菜单权限配置",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMenuPermissionDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMenuPermissionDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMenuPermissionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/MenuPermissions/{id}": {
      "delete": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "删除菜单权限配置",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "配置ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/MenuPermissions/my-menus": {
      "get": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "获取当前用户有权限访问的菜单列表\r\nAdmin 和 SuperAdmin 角色默认显示所有菜单",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MenuPermissions/menu-urls": {
      "get": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "获取所有菜单URL列表（用于权限关联）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/MenuPermissions/role-permissions": {
      "post": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "批量创建或更新角色权限（三级权限树：菜单->子菜单->权限操作）",
        "requestBody": {
          "description": "权限配置DTO",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionConfigDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionConfigDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionConfigDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/MenuPermissions/role-permissions/{roleCode}": {
      "get": {
        "tags": [
          "MenuPermissions"
        ],
        "summary": "获取角色的所有权限代码列表",
        "parameters": [
          {
            "name": "roleCode",
            "in": "path",
            "description": "角色代码",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/OrderItems": {
      "get": {
        "tags": [
          "OrderItems"
        ],
        "parameters": [
          {
            "name": "orderId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Orders": {
      "get": {
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Orders"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Order"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Order"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Order"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Orders/{id}": {
      "get": {
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Order"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Order"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Order"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Orders"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Patients": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "获取患者信息列表",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（真实姓名、电话、身份证号）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Patients"
        ],
        "summary": "创建患者信息",
        "requestBody": {
          "description": "患者信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Patient"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Patients/{id}": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "根据ID获取患者信息详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "患者ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Patients"
        ],
        "summary": "更新患者信息",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "患者ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "患者信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Patient"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Patients"
        ],
        "summary": "删除患者信息",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "患者ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Patients/by-user/{userId}": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "根据用户ID获取患者信息",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Patients/my-patients": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "获取当前登录用户的患者和家庭成员列表（用于诊前信息收集）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Patients/me": {
      "post": {
        "tags": [
          "Patients"
        ],
        "summary": "创建或更新当前登录用户的患者信息",
        "requestBody": {
          "description": "患者信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMyPatientDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMyPatientDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMyPatientDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Patient"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "获取患友会列表（管理后台使用）\r\n注意：患友会是自动生成的，每个医生都有一个对应的患友会",
        "parameters": [
          {
            "name": "doctorId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isEnabled",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "创建患友会（已废弃：患友会现在在创建医生时自动生成）",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientSupportGroupDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientSupportGroupDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePatientSupportGroupDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientSupportGroupDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/PatientSupportGroups/{id}": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "根据ID获取患友会详情（管理后台使用）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientSupportGroupDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "更新患友会（管理后台使用）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePatientSupportGroupDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePatientSupportGroupDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePatientSupportGroupDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientSupportGroupDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/{id}/toggle-freeze": {
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "冻结/解冻患友会（管理后台使用）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientSupportGroupDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/by-doctor/{doctorId}": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "根据医生ID获取患友会",
        "parameters": [
          {
            "name": "doctorId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientSupportGroupDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/{groupId}/posts": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "获取患友会的帖子列表（需要登录）",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "schema": {
              "type": "string",
              "default": "reply"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "创建帖子",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/posts/{postId}": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "获取帖子详情",
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/{groupId}/rules": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "获取会规",
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PatientSupportGroups/posts/{postId}/read": {
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "增加帖子阅读数",
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PatientSupportGroups/posts/{postId}/like": {
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "点赞/取消点赞帖子",
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PatientSupportGroups/posts/{postId}/comments": {
      "get": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "获取帖子的评论列表",
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "创建评论",
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostCommentDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostCommentDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostCommentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostCommentDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/posts/upload": {
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "上传帖子附件（图片/视频）",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PatientSupportGroups/posts/comments/upload": {
      "post": {
        "tags": [
          "PatientSupportGroups"
        ],
        "summary": "上传评论附件（图片/视频）",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Payments": {
      "get": {
        "tags": [
          "Payments"
        ],
        "parameters": [
          {
            "name": "orderId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Payments"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Payment"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Payment"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Payment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Permissions": {
      "get": {
        "tags": [
          "Permissions"
        ],
        "summary": "获取权限列表",
        "parameters": [
          {
            "name": "menuUrl",
            "in": "query",
            "description": "菜单URL（可选）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（名称、代码、描述）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Permissions"
        ],
        "summary": "创建权限",
        "requestBody": {
          "description": "权限信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Permissions/all": {
      "get": {
        "tags": [
          "Permissions"
        ],
        "summary": "获取所有权限（不分页，用于权限分配）",
        "parameters": [
          {
            "name": "menuUrl",
            "in": "query",
            "description": "菜单URL（可选）",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Permissions/menu-urls": {
      "get": {
        "tags": [
          "Permissions"
        ],
        "summary": "获取所有菜单URL列表（用于权限关联）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Permissions/{id}": {
      "get": {
        "tags": [
          "Permissions"
        ],
        "summary": "根据ID获取权限详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "权限ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Permissions"
        ],
        "summary": "更新权限",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "权限ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "权限信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Permissions"
        ],
        "summary": "删除权限",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "权限ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PermissionTypeDictionaries/all": {
      "get": {
        "tags": [
          "PermissionTypeDictionaries"
        ],
        "summary": "获取所有权限类型字典（用于下拉列表）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PermissionTypeDictionaries": {
      "get": {
        "tags": [
          "PermissionTypeDictionaries"
        ],
        "summary": "获取权限类型字典列表（分页）",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PostComments": {
      "get": {
        "tags": [
          "PostComments"
        ],
        "summary": "获取评论列表",
        "parameters": [
          {
            "name": "postId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isDeleted",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PostComments/{id}": {
      "get": {
        "tags": [
          "PostComments"
        ],
        "summary": "获取评论详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "PostComments"
        ],
        "summary": "更新评论",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "PostComments"
        ],
        "summary": "删除评论（软删除）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/PostLikes": {
      "get": {
        "tags": [
          "PostLikes"
        ],
        "summary": "获取点赞列表",
        "parameters": [
          {
            "name": "postId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/PostLikes/{id}": {
      "get": {
        "tags": [
          "PostLikes"
        ],
        "summary": "获取点赞详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "PostLikes"
        ],
        "summary": "删除点赞",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Posts": {
      "get": {
        "tags": [
          "Posts"
        ],
        "summary": "获取帖子列表",
        "parameters": [
          {
            "name": "groupId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isDeleted",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Posts/{id}": {
      "get": {
        "tags": [
          "Posts"
        ],
        "summary": "获取帖子详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Posts"
        ],
        "summary": "更新帖子",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePostDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePostDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePostDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Posts"
        ],
        "summary": "删除帖子（软删除）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Prescriptions": {
      "get": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "获取处方列表（处方生成 - 管理员和医生可查看所有，患者只能查看自己的）",
        "parameters": [
          {
            "name": "patientId",
            "in": "query",
            "description": "患者ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "doctorId",
            "in": "query",
            "description": "医生ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态（可选）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "创建处方（处方生成）",
        "requestBody": {
          "description": "处方信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Prescriptions/{id}": {
      "get": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "根据ID获取处方详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "处方ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "更新处方",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "处方ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "处方信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "删除处方",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "处方ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/ProductCategories": {
      "get": {
        "tags": [
          "ProductCategories"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ProductCategories"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategory"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategory"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategory"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductCategory"
                }
              }
            }
          }
        }
      }
    },
    "/api/ProductCategories/{id}": {
      "get": {
        "tags": [
          "ProductCategories"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductCategory"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "ProductCategories"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategory"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategory"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCategory"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "ProductCategories"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Products": {
      "get": {
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "name": "categoryId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Products"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Products/{id}": {
      "get": {
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Products"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ProductSpecs": {
      "get": {
        "tags": [
          "ProductSpecs"
        ],
        "parameters": [
          {
            "name": "productId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ProductSpecs"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSpec"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSpec"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSpec"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ProductSpecs/{id}": {
      "put": {
        "tags": [
          "ProductSpecs"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSpec"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSpec"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSpec"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "ProductSpecs"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Provinces/tree": {
      "get": {
        "tags": [
          "Provinces"
        ],
        "summary": "获取所有省份及其城市（树形结构）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Provinces": {
      "get": {
        "tags": [
          "Provinces"
        ],
        "summary": "获取所有省份列表",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Provinces/{provinceId}/cities": {
      "get": {
        "tags": [
          "Provinces"
        ],
        "summary": "根据省份ID获取城市列表",
        "parameters": [
          {
            "name": "provinceId",
            "in": "path",
            "description": "省份ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Provinces/location-by-ip": {
      "get": {
        "tags": [
          "Provinces"
        ],
        "summary": "根据用户IP获取对应的省市信息",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Questions": {
      "get": {
        "tags": [
          "Questions"
        ],
        "summary": "获取问题列表",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "description": "分类",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isHot",
            "in": "query",
            "description": "是否热门",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（标题、内容）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Questions"
        ],
        "summary": "创建问题",
        "requestBody": {
          "description": "问题信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Question"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Questions/{id}": {
      "get": {
        "tags": [
          "Questions"
        ],
        "summary": "根据ID获取问题详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "问题ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Question"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Questions"
        ],
        "summary": "更新问题",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "问题ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "问题信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Question"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Question"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Question"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Question"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Questions"
        ],
        "summary": "删除问题",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "问题ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Questions/{questionId}/answers": {
      "post": {
        "tags": [
          "Questions"
        ],
        "summary": "回答问题",
        "parameters": [
          {
            "name": "questionId",
            "in": "path",
            "description": "问题ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "回答信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Answer"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Answer"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Answer"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Answer"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Refunds": {
      "get": {
        "tags": [
          "Refunds"
        ],
        "parameters": [
          {
            "name": "orderId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Refunds"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Refund"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Refund"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Refund"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Refunds/{id}": {
      "put": {
        "tags": [
          "Refunds"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Refund"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Refund"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Refund"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Roles": {
      "get": {
        "tags": [
          "Roles"
        ],
        "summary": "获取角色列表",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（角色名称、代码、描述）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Roles"
        ],
        "summary": "创建角色",
        "requestBody": {
          "description": "角色信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Roles/all": {
      "get": {
        "tags": [
          "Roles"
        ],
        "summary": "获取所有角色（不分页，用于下拉选择）",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Roles/{id}": {
      "get": {
        "tags": [
          "Roles"
        ],
        "summary": "根据ID获取角色详情（包含权限）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Roles"
        ],
        "summary": "更新角色",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "角色信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Roles"
        ],
        "summary": "删除角色",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Roles/{id}/permissions": {
      "post": {
        "tags": [
          "Roles"
        ],
        "summary": "为角色分配权限",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "权限ID列表",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignPermissionsDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignPermissionsDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AssignPermissionsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Roles"
        ],
        "summary": "获取角色的权限列表",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/ShipCompanies": {
      "get": {
        "tags": [
          "ShipCompanies"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ShipCompanies"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShipCompany"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ShipCompany"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ShipCompany"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ShipCompanies/{id}": {
      "put": {
        "tags": [
          "ShipCompanies"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShipCompany"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ShipCompany"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ShipCompany"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "ShipCompanies"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Shipments": {
      "get": {
        "tags": [
          "Shipments"
        ],
        "parameters": [
          {
            "name": "orderId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Shipments"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Shipment"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Shipment"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Shipment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Shipments/{id}": {
      "put": {
        "tags": [
          "Shipments"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Shipment"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Shipment"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Shipment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Shipments"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ShipmentTracks": {
      "get": {
        "tags": [
          "ShipmentTracks"
        ],
        "parameters": [
          {
            "name": "shipmentId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ShipmentTracks"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShipmentTrack"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ShipmentTrack"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ShipmentTrack"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ShipmentTracks/{id}": {
      "delete": {
        "tags": [
          "ShipmentTracks"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Subscriptions/my-subscriptions": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "获取当前用户订阅的医生列表",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Subscriptions/{doctorId}": {
      "post": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "订阅医生",
        "parameters": [
          {
            "name": "doctorId",
            "in": "path",
            "description": "医生ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "取消订阅医生",
        "parameters": [
          {
            "name": "doctorId",
            "in": "path",
            "description": "医生ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Subscriptions/check/{doctorId}": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "检查是否已订阅医生",
        "parameters": [
          {
            "name": "doctorId",
            "in": "path",
            "description": "医生ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Subscriptions/health-knowledge": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "获取订阅医生发布的健康知识列表",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/TertiaryHospitals": {
      "get": {
        "tags": [
          "TertiaryHospitals"
        ],
        "summary": "获取三甲医院列表（支持分页和搜索）",
        "parameters": [
          {
            "name": "provinceId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cityId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "TertiaryHospitals"
        ],
        "summary": "创建三甲医院",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTertiaryHospitalDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTertiaryHospitalDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTertiaryHospitalDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/TertiaryHospitals/{id}": {
      "get": {
        "tags": [
          "TertiaryHospitals"
        ],
        "summary": "根据ID获取三甲医院详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "TertiaryHospitals"
        ],
        "summary": "更新三甲医院",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTertiaryHospitalDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTertiaryHospitalDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTertiaryHospitalDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "TertiaryHospitals"
        ],
        "summary": "删除三甲医院",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Upload/image": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "上传图片",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "description": "分类（activity=活动图片，user=用户头像，healthknowledge=健康知识图片，doctor=医生头像，product=商品图片，aidiagnosis=AI预诊图片，默认为通用图片）",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "图片文件",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Upload/video": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "上传视频",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "视频文件",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Upload/audio": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "上传语音",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "语音文件",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Upload/file": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "上传文件（通用文件上传）",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "description": "分类（aidiagnosis=AI预诊文件，默认为通用文件）",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "文件",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/UserAddresses": {
      "get": {
        "tags": [
          "UserAddresses"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "UserAddresses"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAddress"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAddress"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserAddress"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/UserAddresses/{id}": {
      "put": {
        "tags": [
          "UserAddresses"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAddress"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAddress"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserAddress"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "UserAddresses"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "获取所有用户列表（管理员）",
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "description": "角色筛选",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "是否激活",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键词搜索（用户名、邮箱、手机号）",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userTypeId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "创建用户（管理员）",
        "requestBody": {
          "description": "用户信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/me": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "获取当前用户信息",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "更新当前用户信息",
        "requestBody": {
          "description": "用户信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/me/password": {
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "修改当前用户密码",
        "requestBody": {
          "description": "密码修改请求",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/me/family-members": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "获取当前登录用户的家庭成员列表",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FamilyMember"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "添加家庭成员",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamilyMemberDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamilyMemberDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFamilyMemberDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyMember"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "根据ID获取用户信息（管理员）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "更新用户信息（管理员）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "用户信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "删除用户（管理员）",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/{id}/roles": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "为用户分配角色",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "角色ID列表",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignRolesDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignRolesDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AssignRolesDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "获取用户的角色列表",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/{id}/reset-password": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "重置用户密码",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "新密码",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/VisitRecords": {
      "get": {
        "tags": [
          "VisitRecords"
        ],
        "summary": "获取就诊记录列表",
        "parameters": [
          {
            "name": "patientId",
            "in": "query",
            "description": "患者ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "doctorId",
            "in": "query",
            "description": "医生ID（可选）",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "VisitRecords"
        ],
        "summary": "创建就诊记录",
        "requestBody": {
          "description": "就诊记录信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVisitRecordDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVisitRecordDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVisitRecordDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitRecord"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/VisitRecords/{id}": {
      "get": {
        "tags": [
          "VisitRecords"
        ],
        "summary": "根据ID获取就诊记录详情",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "就诊记录ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitRecord"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "VisitRecords"
        ],
        "summary": "更新就诊记录",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "就诊记录ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "就诊记录信息",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVisitRecordDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVisitRecordDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVisitRecordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitRecord"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "VisitRecords"
        ],
        "summary": "删除就诊记录",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "就诊记录ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/WeChat/signature": {
      "get": {
        "tags": [
          "WeChat"
        ],
        "summary": "获取微信 JS-SDK 签名配置",
        "parameters": [
          {
            "name": "url",
            "in": "query",
            "description": "当前页面的完整URL（不包含#及其后面部分）",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Activity": {
        "required": [
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "标题"
          },
          "subtitle": {
            "maxLength": 200,
            "type": "string",
            "description": "副标题",
            "nullable": true
          },
          "description": {
            "maxLength": 1000,
            "type": "string",
            "description": "描述",
            "nullable": true
          },
          "coverImageUrl": {
            "maxLength": 1000,
            "type": "string",
            "description": "封面图片URL",
            "nullable": true
          },
          "activityType": {
            "maxLength": 50,
            "type": "string",
            "description": "活动类型：Discount（优惠）、Knowledge（知识）、Product（产品）",
            "nullable": true
          },
          "discountInfo": {
            "maxLength": 100,
            "type": "string",
            "description": "优惠信息（如：立减200）",
            "nullable": true
          },
          "isHot": {
            "type": "boolean",
            "description": "是否热门"
          },
          "isLargeCard": {
            "type": "boolean",
            "description": "是否大卡片显示"
          },
          "sortOrder": {
            "type": "integer",
            "description": "排序顺序",
            "format": "int32"
          },
          "startTime": {
            "type": "string",
            "description": "开始时间",
            "format": "date-time",
            "nullable": true
          },
          "endTime": {
            "type": "string",
            "description": "结束时间",
            "format": "date-time",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "活动实体"
      },
      "AdminLoginRequestDto": {
        "required": [
          "password",
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "minLength": 1,
            "type": "string",
            "description": "用户名"
          },
          "password": {
            "minLength": 1,
            "type": "string",
            "description": "密码"
          }
        },
        "additionalProperties": false,
        "description": "管理员登录请求DTO（后台管理系统专用）"
      },
      "AiDiagnosisModelUsageDto": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "string",
            "description": "模型ID",
            "nullable": true
          },
          "inputTokens": {
            "type": "integer",
            "description": "输入token数",
            "format": "int32"
          },
          "outputTokens": {
            "type": "integer",
            "description": "输出token数",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "AI预诊模型使用情况DTO"
      },
      "AiDiagnosisParametersDto": {
        "type": "object",
        "properties": {
          "temperature": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "maxTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "AI预诊模型参数DTO"
      },
      "AiDiagnosisRequestDto": {
        "required": [
          "prompt"
        ],
        "type": "object",
        "properties": {
          "prompt": {
            "maxLength": 2000,
            "minLength": 1,
            "type": "string",
            "description": "用户输入的提示语/问题"
          },
          "images": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageInputDto"
            },
            "description": "图片 URL 列表，支持多图（目前一般一次传一张）",
            "nullable": true
          },
          "parameters": {
            "$ref": "#/components/schemas/AiDiagnosisParametersDto"
          }
        },
        "additionalProperties": false,
        "description": "AI预诊请求DTO"
      },
      "AiDiagnosisResponseDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "会话ID",
            "nullable": true
          },
          "finishReason": {
            "type": "string",
            "description": "完成原因",
            "nullable": true
          },
          "text": {
            "type": "string",
            "description": "AI返回的文本内容",
            "nullable": true
          },
          "usage": {
            "$ref": "#/components/schemas/AiDiagnosisUsageDto"
          },
          "requestId": {
            "type": "string",
            "description": "请求ID",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "AI预诊响应DTO"
      },
      "AiDiagnosisUsageDto": {
        "type": "object",
        "properties": {
          "models": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AiDiagnosisModelUsageDto"
            },
            "description": "模型使用情况列表",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "AI预诊使用情况DTO"
      },
      "Answer": {
        "required": [
          "content",
          "patientId",
          "questionId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "questionId": {
            "type": "string",
            "description": "问题ID",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID（回答者）",
            "format": "uuid"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "内容"
          },
          "likeCount": {
            "type": "integer",
            "description": "点赞数",
            "format": "int32"
          },
          "isBestAnswer": {
            "type": "boolean",
            "description": "是否最佳答案"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "question": {
            "$ref": "#/components/schemas/Question"
          },
          "patient": {
            "$ref": "#/components/schemas/Patient"
          }
        },
        "additionalProperties": false,
        "description": "回答实体"
      },
      "AssignPermissionsDto": {
        "required": [
          "permissionIds"
        ],
        "type": "object",
        "properties": {
          "permissionIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          }
        },
        "additionalProperties": false
      },
      "AssignRolesDto": {
        "required": [
          "roleIds"
        ],
        "type": "object",
        "properties": {
          "roleIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          }
        },
        "additionalProperties": false
      },
      "AuthResponseDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "Token",
            "nullable": true
          },
          "user": {
            "$ref": "#/components/schemas/UserDto"
          }
        },
        "additionalProperties": false,
        "description": "认证响应DTO"
      },
      "Cart": {
        "required": [
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItem"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "购物车"
      },
      "CartItem": {
        "required": [
          "cartId",
          "productId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "cartId": {
            "type": "string",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "format": "uuid"
          },
          "productSpecId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "quantity": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "cart": {
            "$ref": "#/components/schemas/Cart"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "productSpec": {
            "$ref": "#/components/schemas/ProductSpec"
          }
        },
        "additionalProperties": false,
        "description": "购物车条目"
      },
      "ChangePasswordRequestDto": {
        "required": [
          "newPassword",
          "oldPassword"
        ],
        "type": "object",
        "properties": {
          "oldPassword": {
            "minLength": 1,
            "type": "string",
            "description": "原密码"
          },
          "newPassword": {
            "minLength": 6,
            "type": "string",
            "description": "新密码"
          }
        },
        "additionalProperties": false,
        "description": "修改密码请求DTO"
      },
      "Consultation": {
        "required": [
          "consultationType",
          "doctorId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "consultationType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "咨询类型：Text（图文）、Phone（电话）、Video（视频）、HomeVisit（上门）"
          },
          "price": {
            "type": "number",
            "description": "价格（元）",
            "format": "double"
          },
          "startTime": {
            "type": "string",
            "description": "开始时间",
            "format": "date-time",
            "nullable": true
          },
          "endTime": {
            "type": "string",
            "description": "结束时间",
            "format": "date-time",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "doctor": {
            "$ref": "#/components/schemas/Doctor"
          },
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConsultationMessage"
            },
            "nullable": true
          },
          "consultationPatients": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConsultationPatient"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "咨询实体"
      },
      "ConsultationMessage": {
        "required": [
          "consultationId",
          "content",
          "messageType",
          "senderId",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "description": "咨询ID",
            "format": "uuid"
          },
          "senderId": {
            "type": "string",
            "description": "发送者ID",
            "format": "uuid"
          },
          "isFromDoctor": {
            "type": "boolean",
            "description": "是否为医生发送"
          },
          "content": {
            "maxLength": 2000,
            "minLength": 1,
            "type": "string",
            "description": "消息内容（敏感信息加密存储）"
          },
          "messageType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "消息类型：Text（文本）、Image（图片）、Voice（语音）、File（文件）"
          },
          "attachmentUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "附件URL",
            "nullable": true
          },
          "isRead": {
            "type": "boolean",
            "description": "是否已读"
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "状态：Pending（待处理）、InProgress（进行中）、Completed（已完成）、Cancelled（已取消）"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "咨询消息实体"
      },
      "ConsultationPatient": {
        "required": [
          "consultationId",
          "patientId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "description": "咨询ID",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "consultation": {
            "$ref": "#/components/schemas/Consultation"
          },
          "patient": {
            "$ref": "#/components/schemas/Patient"
          }
        },
        "additionalProperties": false,
        "description": "咨询-患者关联表（多对多）"
      },
      "CreateConsultationDto": {
        "required": [
          "consultationType",
          "doctorId"
        ],
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid",
            "nullable": true
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "consultationType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "咨询类型：Text（图文）、Phone（电话）、Video（视频）、HomeVisit（上门）"
          },
          "price": {
            "type": "number",
            "description": "价格（元）",
            "format": "double"
          },
          "startTime": {
            "type": "string",
            "description": "开始时间",
            "format": "date-time",
            "nullable": true
          },
          "endTime": {
            "type": "string",
            "description": "结束时间",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建咨询请求DTO"
      },
      "CreateConsultationMessageDto": {
        "required": [
          "consultationId",
          "content",
          "messageType"
        ],
        "type": "object",
        "properties": {
          "consultationId": {
            "type": "string",
            "format": "uuid"
          },
          "content": {
            "maxLength": 2000,
            "minLength": 1,
            "type": "string"
          },
          "messageType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "attachmentUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "isRead": {
            "type": "boolean"
          },
          "status": {
            "maxLength": 20,
            "type": "string",
            "description": "状态：Pending（待处理）、InProgress（进行中）、Completed（已完成）、Cancelled（已取消）",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateDiseaseCategoryDto": {
        "required": [
          "departmentId",
          "name"
        ],
        "type": "object",
        "properties": {
          "departmentId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "symptoms": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateDoctorDto": {
        "required": [
          "departmentId",
          "name",
          "title"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "title": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "hospital": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "departmentId": {
            "type": "string",
            "format": "uuid"
          },
          "specialty": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "introduction": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "isRecommended": {
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "description": "创建医生请求DTO"
      },
      "CreateDrugCategoryDto": {
        "required": [
          "categoryName"
        ],
        "type": "object",
        "properties": {
          "categoryName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "parentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          },
          "isActive": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "CreateDrugDto": {
        "required": [
          "approvalNumber",
          "categoryId",
          "commonName",
          "manufacturer",
          "specification",
          "unit"
        ],
        "type": "object",
        "properties": {
          "commonName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "tradeName": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "specification": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "manufacturer": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "approvalNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "categoryId": {
            "type": "string",
            "format": "uuid"
          },
          "unit": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "storageCondition": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "CreateDrugStockInHeadDto": {
        "required": [
          "invoiceNo",
          "lines",
          "operationTime",
          "supplierName"
        ],
        "type": "object",
        "properties": {
          "invoiceNo": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "supplierName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "operationTime": {
            "type": "string",
            "format": "date-time"
          },
          "totalAmount": {
            "type": "number",
            "format": "double"
          },
          "remarks": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "lines": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateDrugStockInLineDto"
            }
          }
        },
        "additionalProperties": false
      },
      "CreateDrugStockInLineDto": {
        "required": [
          "batchNumber",
          "drugId",
          "expiryDate",
          "purchasePrice",
          "quantity",
          "warehouseLocation"
        ],
        "type": "object",
        "properties": {
          "drugId": {
            "type": "string",
            "format": "uuid"
          },
          "batchNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "productionDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "expiryDate": {
            "type": "string",
            "format": "date-time"
          },
          "quantity": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "purchasePrice": {
            "minimum": 0.01,
            "type": "number",
            "format": "double"
          },
          "warehouseLocation": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "CreateExaminationReportDto": {
        "required": [
          "doctorId",
          "examinationDate",
          "examinationName",
          "examinationType",
          "patientId",
          "reportDate",
          "reportNumber",
          "results",
          "status"
        ],
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "format": "uuid"
          },
          "visitRecordId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "consultationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "reportNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "examinationType": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "examinationName": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "examinationDate": {
            "type": "string",
            "format": "date-time"
          },
          "reportDate": {
            "type": "string",
            "format": "date-time"
          },
          "results": {
            "minLength": 1,
            "type": "string"
          },
          "conclusion": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "recommendations": {
            "type": "string",
            "nullable": true
          },
          "reportFileUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "notes": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateFamilyMemberDto": {
        "required": [
          "name",
          "relationship"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "姓名"
          },
          "relationship": {
            "type": "integer",
            "description": "关系类型：1=配偶, 2=子女, 3=父母, 4=其他",
            "format": "int32"
          },
          "gender": {
            "maxLength": 10,
            "type": "string",
            "description": "性别：Male、Female",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "description": "出生日期",
            "format": "date-time",
            "nullable": true
          },
          "idCardNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "身份证号",
            "nullable": true
          },
          "phoneNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "手机号",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建家庭成员DTO"
      },
      "CreateFeedbackDto": {
        "required": [
          "content",
          "title"
        ],
        "type": "object",
        "properties": {
          "title": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "content": {
            "maxLength": 2000,
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "CreateMedicalRecordDto": {
        "type": "object",
        "properties": {
          "doctorId": {
            "type": "string",
            "description": "主诊医生ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "consultationId": {
            "type": "string",
            "description": "关联的咨询ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "height": {
            "type": "number",
            "description": "身高（cm）",
            "format": "double",
            "nullable": true
          },
          "weight": {
            "type": "number",
            "description": "体重（kg）",
            "format": "double",
            "nullable": true
          },
          "diseaseDuration": {
            "maxLength": 200,
            "type": "string",
            "description": "本次患病时长描述（如：2天、一周、半年等）",
            "nullable": true
          },
          "diseaseName": {
            "maxLength": 200,
            "type": "string",
            "description": "疾病名称/症状",
            "nullable": true
          },
          "hasVisitedHospital": {
            "type": "boolean",
            "description": "是否已在医院就诊",
            "nullable": true
          },
          "currentMedications": {
            "maxLength": 1000,
            "type": "string",
            "description": "当前正在使用的药物（描述）",
            "nullable": true
          },
          "isPregnant": {
            "type": "boolean",
            "description": "当前是否怀孕（适用女性）",
            "nullable": true
          },
          "majorTreatmentHistory": {
            "maxLength": 2000,
            "type": "string",
            "description": "手术/放化疗等重大疾病治疗经历及慢性病史",
            "nullable": true
          },
          "allergyHistory": {
            "maxLength": 1000,
            "type": "string",
            "description": "药物过敏史",
            "nullable": true
          },
          "diseaseDescription": {
            "maxLength": 4000,
            "type": "string",
            "description": "详细病情描述",
            "nullable": true
          },
          "pastMedicalHistory": {
            "maxLength": 2000,
            "type": "string",
            "description": "既往病史",
            "nullable": true
          },
          "additionalNotes": {
            "maxLength": 2000,
            "type": "string",
            "description": "其他补充说明",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建病历 DTO（不从前端接收 PatientId，后端根据当前登录用户确定）"
      },
      "CreateMenuPermissionDto": {
        "type": "object",
        "properties": {
          "menuKey": {
            "type": "string",
            "nullable": true
          },
          "roleCode": {
            "type": "string",
            "nullable": true
          },
          "menuLabel": {
            "type": "string",
            "nullable": true
          },
          "menuPath": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "创建菜单权限配置DTO"
      },
      "CreateMyPatientDto": {
        "type": "object",
        "properties": {
          "realName": {
            "type": "string",
            "description": "真实姓名",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "description": "性别：Male（男）、Female（女）、Other（其他）",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "description": "出生日期",
            "format": "date-time",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "description": "手机号（前端传入明文，后端加密）",
            "nullable": true
          },
          "email": {
            "type": "string",
            "description": "邮箱（前端传入明文，后端加密）",
            "nullable": true
          },
          "address": {
            "type": "string",
            "description": "地址",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建或更新当前用户患者信息的DTO"
      },
      "CreatePatientDto": {
        "required": [
          "patientId",
          "realName"
        ],
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "format": "uuid"
          },
          "realName": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "gender": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "idCardNumber": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "email": {
            "maxLength": 255,
            "type": "string",
            "nullable": true
          },
          "address": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "emergencyContactName": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "emergencyContactPhone": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "emergencyContactRelation": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "emergencyContactGender": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          },
          "emergencyContactDateOfBirth": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "emergencyContactIdCardNumber": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "bloodType": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          },
          "height": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "weight": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "allergyHistory": {
            "type": "string",
            "nullable": true
          },
          "medicalHistory": {
            "type": "string",
            "nullable": true
          },
          "familyHistory": {
            "type": "string",
            "nullable": true
          },
          "notes": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreatePatientSupportGroupDto": {
        "required": [
          "doctorId"
        ],
        "type": "object",
        "properties": {
          "doctorId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "description": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "description": "创建患友会DTO"
      },
      "CreatePermissionDto": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "menuUrl": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "permissionType": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建/更新权限DTO"
      },
      "CreatePostCommentDto": {
        "type": "object",
        "properties": {
          "postId": {
            "type": "string",
            "format": "uuid"
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "parentCommentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "attachmentUrls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "附件URL列表（JSON数组格式）",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建评论DTO"
      },
      "CreatePostDto": {
        "type": "object",
        "properties": {
          "patientSupportGroupId": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "tag": {
            "type": "string",
            "nullable": true
          },
          "attachmentUrls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "附件URL列表（JSON数组格式）",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建帖子DTO"
      },
      "CreatePrescriptionDto": {
        "required": [
          "doctorId",
          "patientId",
          "prescriptionContent",
          "prescriptionNumber",
          "status"
        ],
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "prescriptionNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "diagnosis": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "prescriptionContent": {
            "minLength": 1,
            "type": "string"
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "CreateProductDto": {
        "required": [
          "categoryId",
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "categoryId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "marketPrice": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean"
          },
          "isVirtual": {
            "type": "boolean"
          },
          "coverUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建商品DTO"
      },
      "CreateQuestionDto": {
        "required": [
          "content",
          "title"
        ],
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "description": "患者ID（提问者）",
            "format": "uuid",
            "nullable": true
          },
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "标题"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "内容"
          },
          "category": {
            "maxLength": 50,
            "type": "string",
            "description": "分类：热门、养生、问诊、保健、减肥、育儿类、失眠类等",
            "nullable": true
          },
          "tags": {
            "maxLength": 200,
            "type": "string",
            "description": "标签",
            "nullable": true
          },
          "favoriteCount": {
            "type": "integer",
            "description": "收藏数",
            "format": "int32"
          },
          "answerCount": {
            "type": "integer",
            "description": "回答数",
            "format": "int32"
          },
          "viewCount": {
            "type": "integer",
            "description": "查看数",
            "format": "int32"
          },
          "isHot": {
            "type": "boolean",
            "description": "是否热门"
          }
        },
        "additionalProperties": false,
        "description": "创建问题请求DTO"
      },
      "CreateRoleDto": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateTertiaryHospitalDto": {
        "required": [
          "cityId",
          "name",
          "provinceId"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "provinceId": {
            "type": "string",
            "format": "uuid"
          },
          "cityId": {
            "type": "string",
            "format": "uuid"
          },
          "address": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "level": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "type": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "phone": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "website": {
            "maxLength": 500,
            "pattern": "^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$",
            "type": "string",
            "nullable": true
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          },
          "isEnabled": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "CreateUserDto": {
        "required": [
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "minLength": 1,
            "type": "string"
          },
          "password": {
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "format": "tel",
            "nullable": true
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true
          },
          "role": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "创建用户DTO（管理员）"
      },
      "CreateVisitRecordDto": {
        "required": [
          "doctorId",
          "patientId",
          "status",
          "visitDate",
          "visitType"
        ],
        "type": "object",
        "properties": {
          "patientId": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "visitDate": {
            "type": "string",
            "format": "date-time"
          },
          "chiefComplaint": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "presentIllness": {
            "type": "string",
            "nullable": true
          },
          "diagnosis": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "treatmentPlan": {
            "type": "string",
            "nullable": true
          },
          "medicalAdvice": {
            "type": "string",
            "nullable": true
          },
          "visitType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "notes": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Department": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "科室名称"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "description": "科室描述",
            "nullable": true
          },
          "iconUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "图标URL",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "description": "排序顺序",
            "format": "int32"
          },
          "isHot": {
            "type": "boolean",
            "description": "是否热门"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "doctors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Doctor"
            },
            "nullable": true
          },
          "diseaseCategories": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DiseaseCategory"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "科室实体"
      },
      "DiseaseCategory": {
        "required": [
          "departmentId",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "departmentId": {
            "type": "string",
            "description": "科室ID",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "疾病名称"
          },
          "symptoms": {
            "maxLength": 500,
            "type": "string",
            "description": "症状描述",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "department": {
            "$ref": "#/components/schemas/Department"
          }
        },
        "additionalProperties": false,
        "description": "疾病分类实体"
      },
      "Doctor": {
        "required": [
          "departmentId",
          "name",
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "departmentId": {
            "type": "string",
            "description": "科室ID",
            "format": "uuid"
          },
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "医生姓名"
          },
          "title": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "职称：主治医师、副主任医师、主任医师等"
          },
          "specialty": {
            "maxLength": 2000,
            "type": "string",
            "description": "擅长领域",
            "nullable": true
          },
          "hospital": {
            "maxLength": 100,
            "type": "string",
            "description": "医院名称",
            "nullable": true
          },
          "introduction": {
            "maxLength": 6000,
            "type": "string",
            "description": "简介",
            "nullable": true
          },
          "avatarUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "头像URL",
            "nullable": true
          },
          "rating": {
            "type": "number",
            "description": "评分（平均分）",
            "format": "double"
          },
          "consultationCount": {
            "type": "integer",
            "description": "咨询次数",
            "format": "int32"
          },
          "followerCount": {
            "type": "integer",
            "description": "粉丝数（订阅数）",
            "format": "int32"
          },
          "totalReadCount": {
            "type": "integer",
            "description": "阅读总数（该医生发布的健康知识总阅读量）",
            "format": "int32"
          },
          "isOnline": {
            "type": "boolean",
            "description": "是否在线"
          },
          "isRecommended": {
            "type": "boolean",
            "description": "是否推荐"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "设定删除标志，假删除用户（永久封禁）"
          },
          "department": {
            "$ref": "#/components/schemas/Department"
          },
          "schedules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DoctorSchedule"
            },
            "nullable": true
          },
          "consultations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Consultation"
            },
            "nullable": true
          },
          "reviews": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DoctorReview"
            },
            "nullable": true
          },
          "doctorPatients": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DoctorPatient"
            },
            "nullable": true
          },
          "patientSupportGroups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PatientSupportGroup"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "医生实体"
      },
      "DoctorDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "specialty": {
            "type": "string",
            "nullable": true
          },
          "hospital": {
            "type": "string",
            "nullable": true
          },
          "introduction": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "rating": {
            "type": "number",
            "format": "double"
          },
          "consultationCount": {
            "type": "integer",
            "format": "int32"
          },
          "isOnline": {
            "type": "boolean"
          },
          "isRecommended": {
            "type": "boolean"
          },
          "departmentId": {
            "type": "string",
            "format": "uuid"
          },
          "departmentName": {
            "type": "string",
            "nullable": true
          },
          "followerCount": {
            "type": "integer",
            "description": "粉丝数（订阅数）",
            "format": "int32"
          },
          "totalReadCount": {
            "type": "integer",
            "description": "阅读总数（该医生发布的健康知识总阅读量）",
            "format": "int32"
          },
          "schedules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DoctorScheduleDto"
            },
            "nullable": true
          },
          "recentReviews": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DoctorReviewDto"
            },
            "nullable": true
          },
          "phonePrice": {
            "type": "number",
            "description": "电话咨询价格（元）",
            "format": "double",
            "nullable": true
          },
          "textPrice": {
            "type": "number",
            "description": "图文咨询价格（元）",
            "format": "double",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "医生详情DTO"
      },
      "DoctorDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "specialty": {
            "type": "string",
            "nullable": true
          },
          "hospital": {
            "type": "string",
            "nullable": true
          },
          "introduction": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "rating": {
            "type": "number",
            "format": "double"
          },
          "consultationCount": {
            "type": "integer",
            "format": "int32"
          },
          "isOnline": {
            "type": "boolean"
          },
          "isRecommended": {
            "type": "boolean"
          },
          "departmentId": {
            "type": "string",
            "format": "uuid"
          },
          "departmentName": {
            "type": "string",
            "nullable": true
          },
          "followerCount": {
            "type": "integer",
            "description": "粉丝数（订阅数）",
            "format": "int32"
          },
          "totalReadCount": {
            "type": "integer",
            "description": "阅读总数（该医生发布的健康知识总阅读量）",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "医生DTO"
      },
      "DoctorPatient": {
        "required": [
          "doctorId",
          "patientId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "doctor": {
            "$ref": "#/components/schemas/Doctor"
          },
          "patient": {
            "$ref": "#/components/schemas/Patient"
          }
        },
        "additionalProperties": false,
        "description": "医生-患者关联表（多对多）"
      },
      "DoctorReview": {
        "required": [
          "doctorId",
          "patientId",
          "rating"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID（评价者）",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "description": "咨询ID（关联的咨询）",
            "format": "uuid",
            "nullable": true
          },
          "rating": {
            "maximum": 5,
            "minimum": 1,
            "type": "integer",
            "description": "评分（1-5星）",
            "format": "int32"
          },
          "content": {
            "maxLength": 1000,
            "type": "string",
            "description": "评价内容",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "doctor": {
            "$ref": "#/components/schemas/Doctor"
          },
          "patient": {
            "$ref": "#/components/schemas/Patient"
          },
          "consultation": {
            "$ref": "#/components/schemas/Consultation"
          }
        },
        "additionalProperties": false,
        "description": "医生评价实体"
      },
      "DoctorReviewDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "rating": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "reviewerName": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "医生评价DTO"
      },
      "DoctorSchedule": {
        "required": [
          "dayOfWeek",
          "doctorId",
          "timeSlot"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "dayOfWeek": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "星期几：Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday"
          },
          "timeSlot": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "时间段：Morning（上午）、Afternoon（下午）、Evening（晚上）"
          },
          "isAvailable": {
            "type": "boolean",
            "description": "是否可预约"
          },
          "maxAppointments": {
            "type": "integer",
            "description": "最大预约数",
            "format": "int32"
          },
          "currentAppointments": {
            "type": "integer",
            "description": "当前预约数",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "doctor": {
            "$ref": "#/components/schemas/Doctor"
          }
        },
        "additionalProperties": false,
        "description": "医生排班实体"
      },
      "DoctorScheduleDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "dayOfWeek": {
            "type": "string",
            "nullable": true
          },
          "timeSlot": {
            "type": "string",
            "nullable": true
          },
          "isAvailable": {
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "description": "医生排班DTO"
      },
      "Drug": {
        "required": [
          "approvalNumber",
          "categoryId",
          "commonName",
          "manufacturer",
          "specification",
          "unit"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "commonName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "药品通用名（如：阿莫西林），主要搜索字段"
          },
          "tradeName": {
            "maxLength": 100,
            "type": "string",
            "description": "药品商品名（如：阿莫仙），可有多个",
            "nullable": true
          },
          "specification": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "药品规格（如：0.25g*24粒/盒）"
          },
          "manufacturer": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "生产厂家"
          },
          "approvalNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "国药准字批准文号，唯一标识，必须唯一"
          },
          "categoryId": {
            "type": "string",
            "description": "所属分类ID",
            "format": "uuid"
          },
          "unit": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "药品单位（如：盒、瓶、支）"
          },
          "storageCondition": {
            "maxLength": 50,
            "type": "string",
            "description": "储存条件（如：常温、阴凉、冷藏、冷冻）",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "description": "是否启用（用于逻辑删除，避免误删基础数据）"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "药品信息实体（核心字典表）"
      },
      "DrugCategory": {
        "required": [
          "categoryName"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "categoryName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "分类名称（唯一）"
          },
          "parentId": {
            "type": "string",
            "description": "父分类ID（自引用，支持无限层级）",
            "format": "uuid",
            "nullable": true
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "description": "分类描述",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "description": "排序顺序",
            "format": "int32"
          },
          "isActive": {
            "type": "boolean",
            "description": "是否启用"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "药品分类实体（支持无限层级分类）"
      },
      "DrugInventory": {
        "required": [
          "currentQuantity",
          "drugId",
          "warehouseLocation"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "drugId": {
            "type": "string",
            "description": "药品ID",
            "format": "uuid"
          },
          "warehouseLocation": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "库位/仓库（支持分库位管理）"
          },
          "currentQuantity": {
            "type": "integer",
            "description": "当前库存数量（通过入库和出库操作更新）",
            "format": "int32"
          },
          "lastUpdatedAt": {
            "type": "string",
            "description": "库存最后更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "药品库存实体（动态库存，支持多批次、多仓库）"
      },
      "DrugStockInHead": {
        "required": [
          "invoiceNo",
          "operationTime",
          "operatorId",
          "status",
          "supplierName"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "invoiceNo": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "入库单号/发票号，业务流水号，必须唯一"
          },
          "supplierName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "供应商名称"
          },
          "operatorId": {
            "type": "string",
            "description": "操作员ID",
            "format": "uuid"
          },
          "operationTime": {
            "type": "string",
            "description": "入库操作时间",
            "format": "date-time"
          },
          "totalAmount": {
            "type": "number",
            "description": "本次入库的总金额（可选，可由行项目汇总）",
            "format": "double"
          },
          "remarks": {
            "type": "string",
            "description": "备注信息",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "description": "入库单状态（1-已入库，0-已取消）",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "药品入库单头表（存储一次入库操作的总体信息）"
      },
      "ExaminationReport": {
        "required": [
          "doctorId",
          "examinationDate",
          "examinationName",
          "examinationType",
          "patientId",
          "reportDate",
          "reportNumber",
          "results",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID（开具检查的医生）",
            "format": "uuid"
          },
          "visitRecordId": {
            "type": "string",
            "description": "就诊记录ID",
            "format": "uuid",
            "nullable": true
          },
          "consultationId": {
            "type": "string",
            "description": "咨询ID",
            "format": "uuid",
            "nullable": true
          },
          "reportNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "报告编号"
          },
          "examinationType": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "检查类型：BloodTest（血常规）、UrineTest（尿常规）、XRay（X光）、CT（CT）、MRI（核磁共振）、Ultrasound（B超）、ECG（心电图）等"
          },
          "examinationName": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "检查项目名称"
          },
          "examinationDate": {
            "type": "string",
            "description": "检查日期",
            "format": "date-time"
          },
          "reportDate": {
            "type": "string",
            "description": "报告日期",
            "format": "date-time"
          },
          "results": {
            "minLength": 1,
            "type": "string",
            "description": "检查结果（JSON格式存储）"
          },
          "conclusion": {
            "maxLength": 1000,
            "type": "string",
            "description": "检查结论",
            "nullable": true
          },
          "recommendations": {
            "type": "string",
            "description": "建议",
            "nullable": true
          },
          "reportFileUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "报告文件URL（PDF、图片等）",
            "nullable": true
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "状态：Pending（待检查）、Completed（已完成）、Cancelled（已取消）"
          },
          "notes": {
            "maxLength": 1000,
            "type": "string",
            "description": "备注",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "检查报告实体"
      },
      "FamilyMember": {
        "required": [
          "name",
          "patientId",
          "relationship"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "用户ID",
            "format": "uuid"
          },
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "姓名"
          },
          "relationship": {
            "$ref": "#/components/schemas/RelationshipType"
          },
          "gender": {
            "maxLength": 10,
            "type": "string",
            "description": "性别：Male、Female",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "description": "出生日期（加密存储）",
            "format": "date-time",
            "nullable": true
          },
          "idCardNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "身份证号",
            "nullable": true
          },
          "phoneNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "手机号",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "patient": {
            "$ref": "#/components/schemas/Patient"
          }
        },
        "additionalProperties": false,
        "description": "家庭成员实体"
      },
      "FeedbackDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "processNote": {
            "type": "string",
            "nullable": true
          },
          "processedBy": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "processorName": {
            "type": "string",
            "nullable": true
          },
          "processedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "FinancialFee": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "description": "关联订单ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "referenceNo": {
            "maxLength": 100,
            "type": "string",
            "description": "参考号（可为结算批次/订单号）",
            "nullable": true
          },
          "feeType": {
            "maxLength": 50,
            "type": "string",
            "description": "费用类型（平台佣金/营销/对账差异/额外运费等）",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "description": "费用金额（正为支出，负为补贴/减免）",
            "format": "double"
          },
          "remark": {
            "maxLength": 500,
            "type": "string",
            "description": "备注",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "财务杂费/费用"
      },
      "FinancialPayable": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "description": "关联订单ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "referenceNo": {
            "maxLength": 100,
            "type": "string",
            "description": "参考号（采购单号/物流单号）",
            "nullable": true
          },
          "vendorName": {
            "maxLength": 100,
            "type": "string",
            "description": "供应商/结算对象",
            "nullable": true
          },
          "expenseType": {
            "maxLength": 50,
            "type": "string",
            "description": "费用类型（采购/运费/平台/其他）",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "description": "应付金额",
            "format": "double"
          },
          "paidAmount": {
            "type": "number",
            "description": "已付金额",
            "format": "double"
          },
          "pendingAmount": {
            "type": "number",
            "description": "待付金额",
            "format": "double"
          },
          "status": {
            "maxLength": 30,
            "type": "string",
            "description": "状态（待付/已付/部分付/已关闭）",
            "nullable": true
          },
          "currency": {
            "maxLength": 10,
            "type": "string",
            "description": "币种",
            "nullable": true
          },
          "remark": {
            "maxLength": 500,
            "type": "string",
            "description": "备注",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "财务应付"
      },
      "FinancialReceivable": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "description": "关联订单ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "referenceNo": {
            "maxLength": 100,
            "type": "string",
            "description": "参考号（订单号/渠道单号）",
            "nullable": true
          },
          "channel": {
            "maxLength": 50,
            "type": "string",
            "description": "收款渠道（如微信、支付宝）",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "description": "应收金额",
            "format": "double"
          },
          "receivedAmount": {
            "type": "number",
            "description": "已收金额",
            "format": "double"
          },
          "pendingAmount": {
            "type": "number",
            "description": "待收金额",
            "format": "double"
          },
          "status": {
            "maxLength": 30,
            "type": "string",
            "description": "状态（待收/已收/部分收/已关闭）",
            "nullable": true
          },
          "currency": {
            "maxLength": 10,
            "type": "string",
            "description": "币种",
            "nullable": true
          },
          "remark": {
            "maxLength": 500,
            "type": "string",
            "description": "备注",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "财务应收"
      },
      "FinancialSettlement": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "结算名称/批次名"
          },
          "periodStart": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "periodEnd": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "totalReceivable": {
            "type": "number",
            "format": "double"
          },
          "totalPayable": {
            "type": "number",
            "format": "double"
          },
          "netAmount": {
            "type": "number",
            "format": "double"
          },
          "status": {
            "maxLength": 30,
            "type": "string",
            "description": "状态（待结算/结算中/已完成/已关闭）",
            "nullable": true
          },
          "remark": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "财务结算批次"
      },
      "GroupRules": {
        "required": [
          "content",
          "patientSupportGroupId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientSupportGroupId": {
            "type": "string",
            "description": "患友会ID",
            "format": "uuid"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "会规内容"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "patientSupportGroup": {
            "$ref": "#/components/schemas/PatientSupportGroup"
          }
        },
        "additionalProperties": false,
        "description": "患友会会规实体"
      },
      "HealthKnowledge": {
        "required": [
          "content",
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "标题"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "内容"
          },
          "summary": {
            "maxLength": 500,
            "type": "string",
            "description": "摘要",
            "nullable": true
          },
          "coverImageUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "封面图片URL",
            "nullable": true
          },
          "author": {
            "maxLength": 100,
            "type": "string",
            "description": "作者(医生)",
            "nullable": true
          },
          "source": {
            "maxLength": 100,
            "type": "string",
            "description": "来源",
            "nullable": true
          },
          "category": {
            "maxLength": 50,
            "type": "string",
            "description": "分类：热门推荐、养生课堂、精彩专题、专家讲堂、健康",
            "nullable": true
          },
          "readCount": {
            "type": "integer",
            "description": "阅读量",
            "format": "int32"
          },
          "favoriteCount": {
            "type": "integer",
            "description": "收藏量",
            "format": "int32"
          },
          "isHot": {
            "type": "boolean",
            "description": "是否热门"
          },
          "isRecommended": {
            "type": "boolean",
            "description": "是否推荐"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "健康知识实体"
      },
      "ImageInputDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "图片的完整 URL",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LoginRequestDto": {
        "required": [
          "password",
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "minLength": 1,
            "type": "string",
            "description": "用户名"
          },
          "password": {
            "minLength": 1,
            "type": "string",
            "description": "密码"
          }
        },
        "additionalProperties": false,
        "description": "登录请求DTO"
      },
      "MedicalRecord": {
        "required": [
          "patientId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "主诊医生ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "consultationId": {
            "type": "string",
            "description": "关联的咨询ID（可选）",
            "format": "uuid",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "病历生成时间",
            "format": "date-time"
          },
          "height": {
            "type": "number",
            "description": "身高（cm）",
            "format": "double",
            "nullable": true
          },
          "weight": {
            "type": "number",
            "description": "体重（kg）",
            "format": "double",
            "nullable": true
          },
          "diseaseDuration": {
            "maxLength": 200,
            "type": "string",
            "description": "本次患病时长描述（如：2天、一周、半年等）",
            "nullable": true
          },
          "diseaseName": {
            "maxLength": 200,
            "type": "string",
            "description": "疾病名称/症状",
            "nullable": true
          },
          "hasVisitedHospital": {
            "type": "boolean",
            "description": "是否已在医院就诊",
            "nullable": true
          },
          "currentMedications": {
            "maxLength": 1000,
            "type": "string",
            "description": "当前正在使用的药物（描述）",
            "nullable": true
          },
          "isPregnant": {
            "type": "boolean",
            "description": "当前是否怀孕（适用女性）",
            "nullable": true
          },
          "majorTreatmentHistory": {
            "maxLength": 2000,
            "type": "string",
            "description": "手术/放化疗等重大疾病治疗经历及慢性病史",
            "nullable": true
          },
          "allergyHistory": {
            "maxLength": 1000,
            "type": "string",
            "description": "药物过敏史",
            "nullable": true
          },
          "diseaseDescription": {
            "maxLength": 4000,
            "type": "string",
            "description": "详细病情描述",
            "nullable": true
          },
          "pastMedicalHistory": {
            "maxLength": 2000,
            "type": "string",
            "description": "既往病史",
            "nullable": true
          },
          "additionalNotes": {
            "maxLength": 2000,
            "type": "string",
            "description": "其他补充说明",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "病历信息"
      },
      "Medicine": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "药品名称"
          },
          "specification": {
            "maxLength": 100,
            "type": "string",
            "description": "药品规格",
            "nullable": true
          },
          "manufacturer": {
            "maxLength": 100,
            "type": "string",
            "description": "生产厂家",
            "nullable": true
          },
          "price": {
            "type": "number",
            "description": "价格",
            "format": "double"
          },
          "stock": {
            "type": "integer",
            "description": "库存",
            "format": "int32"
          },
          "imageUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "图片URL",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "prescriptionMedicines": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PrescriptionMedicine"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "药品实体"
      },
      "Order": {
        "required": [
          "orderNo",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "orderNo": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "status": {
            "maxLength": 30,
            "type": "string",
            "description": "订单状态（Pending/Cancelled/Paid/Shipped/Completed/Refunded）",
            "nullable": true
          },
          "payStatus": {
            "maxLength": 30,
            "type": "string",
            "description": "支付状态（Unpaid/Paid/Refunding/Refunded/Failed）",
            "nullable": true
          },
          "totalAmount": {
            "type": "number",
            "format": "double"
          },
          "payAmount": {
            "type": "number",
            "format": "double"
          },
          "payMethod": {
            "maxLength": 30,
            "type": "string",
            "description": "支付方式（WeChat/Alipay/Offline）",
            "nullable": true
          },
          "consignee": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "phone": {
            "maxLength": 30,
            "type": "string",
            "nullable": true
          },
          "province": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "city": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "district": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "addressLine": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "isDropship": {
            "type": "boolean",
            "description": "一件代发"
          },
          "dropshipVendor": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "remark": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItem"
            },
            "nullable": true
          },
          "payments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Payment"
            },
            "nullable": true
          },
          "shipments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Shipment"
            },
            "nullable": true
          },
          "refunds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Refund"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "订单"
      },
      "OrderItem": {
        "required": [
          "orderId",
          "productId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "format": "uuid"
          },
          "productSpecId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "quantity": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "unitPrice": {
            "type": "number",
            "format": "double"
          },
          "subtotal": {
            "type": "number",
            "format": "double"
          },
          "order": {
            "$ref": "#/components/schemas/Order"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "productSpec": {
            "$ref": "#/components/schemas/ProductSpec"
          }
        },
        "additionalProperties": false,
        "description": "订单明细"
      },
      "Patient": {
        "required": [
          "realName",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "description": "关联的用户ID（User表的外键）",
            "format": "uuid"
          },
          "realName": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "真实姓名"
          },
          "gender": {
            "maxLength": 10,
            "type": "string",
            "description": "性别：Male（男）、Female（女）、Other（其他）",
            "nullable": true
          },
          "dateOfBirth": {
            "type": "string",
            "description": "出生日期",
            "format": "date-time",
            "nullable": true
          },
          "idCardNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "身份证号",
            "nullable": true
          },
          "phoneNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "手机号",
            "nullable": true
          },
          "email": {
            "maxLength": 50,
            "type": "string",
            "description": "邮箱",
            "nullable": true
          },
          "address": {
            "maxLength": 500,
            "type": "string",
            "description": "地址",
            "nullable": true
          },
          "bloodType": {
            "maxLength": 10,
            "type": "string",
            "description": "血型：A、B、AB、O、Unknown",
            "nullable": true
          },
          "height": {
            "type": "number",
            "description": "身高（cm）",
            "format": "double",
            "nullable": true
          },
          "weight": {
            "type": "number",
            "description": "体重（kg）",
            "format": "double",
            "nullable": true
          },
          "bmi": {
            "type": "number",
            "description": "BMI（身体质量指数，自动计算：体重(kg) / 身高(m)²）",
            "format": "double",
            "nullable": true
          },
          "allergyHistory": {
            "type": "string",
            "description": "过敏史（JSON格式存储，包含过敏原、症状、严重程度等）",
            "nullable": true
          },
          "medicalHistory": {
            "type": "string",
            "description": "既往病史（JSON格式存储）",
            "nullable": true
          },
          "familyHistory": {
            "type": "string",
            "description": "家族病史（JSON格式存储）",
            "nullable": true
          },
          "notes": {
            "maxLength": 1000,
            "type": "string",
            "description": "备注",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "患者信息实体（与User表分开，存储患者详细信息和过敏史）"
      },
      "PatientSupportGroup": {
        "required": [
          "doctorId",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID（患友会创建者）",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "患友会名称"
          },
          "description": {
            "maxLength": 1000,
            "type": "string",
            "description": "患友会描述",
            "nullable": true
          },
          "postCount": {
            "type": "integer",
            "description": "发布人数（发布过帖子的用户数）",
            "format": "int32"
          },
          "totalReadCount": {
            "type": "integer",
            "description": "阅读总数（所有帖子的阅读数总和）",
            "format": "int32"
          },
          "isEnabled": {
            "type": "boolean",
            "description": "是否启用"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "doctor": {
            "$ref": "#/components/schemas/Doctor"
          },
          "posts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Post"
            },
            "nullable": true
          },
          "rules": {
            "$ref": "#/components/schemas/GroupRules"
          }
        },
        "additionalProperties": false,
        "description": "患友会实体"
      },
      "PatientSupportGroupDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "postCount": {
            "type": "integer",
            "format": "int32"
          },
          "totalReadCount": {
            "type": "integer",
            "format": "int32"
          },
          "isEnabled": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "doctorName": {
            "type": "string",
            "nullable": true
          },
          "doctorTitle": {
            "type": "string",
            "nullable": true
          },
          "doctorAvatarUrl": {
            "type": "string",
            "nullable": true
          },
          "doctorHospital": {
            "type": "string",
            "nullable": true
          },
          "doctorDepartmentName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "患友会DTO"
      },
      "Payment": {
        "required": [
          "orderId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "payMethod": {
            "maxLength": 30,
            "type": "string",
            "description": "支付方式（WeChat/Alipay/Offline）",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "payTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "payTxnId": {
            "maxLength": 100,
            "type": "string",
            "description": "渠道交易号",
            "nullable": true
          },
          "payChannelRaw": {
            "type": "string",
            "description": "支付网关回调原文",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "order": {
            "$ref": "#/components/schemas/Order"
          }
        },
        "additionalProperties": false,
        "description": "支付记录"
      },
      "Post": {
        "required": [
          "content",
          "patientSupportGroupId",
          "title",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientSupportGroupId": {
            "type": "string",
            "description": "患友会ID",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "description": "发布者ID（用户ID，可以是患者或医生）",
            "format": "uuid"
          },
          "attachmentUrls": {
            "type": "string",
            "description": "附件URL列表（JSON格式存储多个图片/视频URL）",
            "nullable": true
          },
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "标题"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "内容"
          },
          "tag": {
            "maxLength": 20,
            "type": "string",
            "description": "标签类型：求助、分享、讨论等",
            "nullable": true
          },
          "readCount": {
            "type": "integer",
            "description": "阅读数",
            "format": "int32"
          },
          "commentCount": {
            "type": "integer",
            "description": "评论数",
            "format": "int32"
          },
          "likeCount": {
            "type": "integer",
            "description": "点赞数",
            "format": "int32"
          },
          "lastReplyAt": {
            "type": "string",
            "description": "最后回复时间",
            "format": "date-time",
            "nullable": true
          },
          "isPinned": {
            "type": "boolean",
            "description": "是否置顶"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "是否删除"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "patientSupportGroup": {
            "$ref": "#/components/schemas/PatientSupportGroup"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "comments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostComment"
            },
            "nullable": true
          },
          "likes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostLike"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "帖子实体"
      },
      "PostComment": {
        "required": [
          "content",
          "postId",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "postId": {
            "type": "string",
            "description": "帖子ID",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "description": "评论者ID（用户ID，可以是患者或医生）",
            "format": "uuid"
          },
          "content": {
            "maxLength": 2000,
            "minLength": 1,
            "type": "string",
            "description": "评论内容"
          },
          "attachmentUrls": {
            "type": "string",
            "description": "附件URL列表（JSON格式存储多个图片/视频URL）",
            "nullable": true
          },
          "parentCommentId": {
            "type": "string",
            "description": "父评论ID（用于回复）",
            "format": "uuid",
            "nullable": true
          },
          "isDeleted": {
            "type": "boolean",
            "description": "是否删除"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "post": {
            "$ref": "#/components/schemas/Post"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "parentComment": {
            "$ref": "#/components/schemas/PostComment"
          },
          "replies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostComment"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "帖子评论实体"
      },
      "PostCommentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "postId": {
            "type": "string",
            "format": "uuid"
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "attachmentUrls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "parentCommentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "authorDisplayName": {
            "type": "string",
            "nullable": true
          },
          "authorAvatarUrl": {
            "type": "string",
            "nullable": true
          },
          "replies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostCommentDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "评论DTO"
      },
      "PostDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientSupportGroupId": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "tag": {
            "type": "string",
            "nullable": true
          },
          "readCount": {
            "type": "integer",
            "format": "int32"
          },
          "commentCount": {
            "type": "integer",
            "format": "int32"
          },
          "likeCount": {
            "type": "integer",
            "format": "int32"
          },
          "lastReplyAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "isPinned": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "authorDisplayName": {
            "type": "string",
            "nullable": true
          },
          "authorAvatarUrl": {
            "type": "string",
            "nullable": true
          },
          "attachmentUrls": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "附件URL列表",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "帖子DTO"
      },
      "PostLike": {
        "required": [
          "postId",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "postId": {
            "type": "string",
            "description": "帖子ID",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "description": "点赞者ID（用户ID，可以是患者或医生）",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "post": {
            "$ref": "#/components/schemas/Post"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          }
        },
        "additionalProperties": false,
        "description": "帖子点赞实体"
      },
      "Prescription": {
        "required": [
          "doctorId",
          "patientId",
          "prescriptionContent",
          "prescriptionNumber",
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "description": "咨询ID",
            "format": "uuid",
            "nullable": true
          },
          "prescriptionNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "处方编号"
          },
          "diagnosis": {
            "maxLength": 1000,
            "type": "string",
            "description": "诊断结果（加密存储）",
            "nullable": true
          },
          "prescriptionContent": {
            "minLength": 1,
            "type": "string",
            "description": "处方内容（JSON格式，加密存储）"
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "状态：Draft（草稿）、Issued（已开具）、Filled（已取药）、Cancelled（已取消）"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "处方实体"
      },
      "PrescriptionMedicine": {
        "required": [
          "medicineId",
          "prescriptionId",
          "quantity"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "prescriptionId": {
            "type": "string",
            "description": "处方ID",
            "format": "uuid"
          },
          "medicineId": {
            "type": "string",
            "description": "药品ID",
            "format": "uuid"
          },
          "quantity": {
            "type": "integer",
            "description": "数量",
            "format": "int32"
          },
          "usage": {
            "maxLength": 200,
            "type": "string",
            "description": "用法用量",
            "nullable": true
          },
          "prescription": {
            "$ref": "#/components/schemas/Prescription"
          },
          "medicine": {
            "$ref": "#/components/schemas/Medicine"
          }
        },
        "additionalProperties": false,
        "description": "处方药品关联实体"
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "Product": {
        "required": [
          "categoryId",
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "categoryId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "商品编码/SKU"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "description": "基础售价",
            "format": "double"
          },
          "marketPrice": {
            "type": "number",
            "description": "市场价",
            "format": "double",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean"
          },
          "isVirtual": {
            "type": "boolean",
            "description": "是否虚拟商品"
          },
          "coverUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "主图",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "category": {
            "$ref": "#/components/schemas/ProductCategory"
          },
          "specs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductSpec"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "商品"
      },
      "ProductCategory": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "分类名称"
          },
          "code": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "分类编码"
          },
          "sortOrder": {
            "type": "integer",
            "description": "排序",
            "format": "int32"
          },
          "isEnabled": {
            "type": "boolean",
            "description": "是否启用"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "products": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Product"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "商品分类"
      },
      "ProductSpec": {
        "required": [
          "productId",
          "specName"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "format": "uuid"
          },
          "specName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "specCode": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "stock": {
            "type": "integer",
            "description": "库存数量",
            "format": "int32"
          },
          "weight": {
            "type": "number",
            "description": "重量（用于物流计费，可选）",
            "format": "double",
            "nullable": true
          },
          "isDefault": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "orderItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItem"
            },
            "nullable": true
          },
          "cartItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItem"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "商品规格"
      },
      "Question": {
        "required": [
          "content",
          "patientId",
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID（提问者）",
            "format": "uuid"
          },
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "description": "标题"
          },
          "content": {
            "minLength": 1,
            "type": "string",
            "description": "内容"
          },
          "category": {
            "maxLength": 50,
            "type": "string",
            "description": "分类：热门、养生、问诊、保健、减肥、育儿类、失眠类等",
            "nullable": true
          },
          "tags": {
            "maxLength": 200,
            "type": "string",
            "description": "标签",
            "nullable": true
          },
          "favoriteCount": {
            "type": "integer",
            "description": "收藏数",
            "format": "int32"
          },
          "answerCount": {
            "type": "integer",
            "description": "回答数",
            "format": "int32"
          },
          "viewCount": {
            "type": "integer",
            "description": "查看数",
            "format": "int32"
          },
          "isHot": {
            "type": "boolean",
            "description": "是否热门"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "问题实体"
      },
      "Refund": {
        "required": [
          "orderId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "orderItemId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "reason": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "status": {
            "maxLength": 30,
            "type": "string",
            "description": "退款状态（Pending/Processing/Success/Failed）",
            "nullable": true
          },
          "refundMethod": {
            "maxLength": 50,
            "type": "string",
            "description": "退款方式（WeChat/Alipay/OriginalRoute）",
            "nullable": true
          },
          "channelRefundNo": {
            "maxLength": 100,
            "type": "string",
            "description": "渠道退款单号",
            "nullable": true
          },
          "initiatedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "order": {
            "$ref": "#/components/schemas/Order"
          },
          "orderItem": {
            "$ref": "#/components/schemas/OrderItem"
          }
        },
        "additionalProperties": false,
        "description": "退款记录"
      },
      "RegisterRequestDto": {
        "required": [
          "password",
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "maxLength": 50,
            "minLength": 3,
            "type": "string",
            "description": "用户名"
          },
          "password": {
            "minLength": 6,
            "type": "string",
            "description": "密码"
          },
          "phoneNumber": {
            "type": "string",
            "description": "手机号",
            "format": "tel",
            "nullable": true
          },
          "email": {
            "type": "string",
            "description": "邮箱",
            "format": "email",
            "nullable": true
          },
          "role": {
            "type": "string",
            "description": "角色：Patient（患者）、Doctor（医生）",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "注册请求DTO"
      },
      "RelationshipType": {
        "enum": [
          1,
          2,
          3,
          4
        ],
        "type": "integer",
        "description": "家庭成员关系类型",
        "format": "int32"
      },
      "ResetPasswordDto": {
        "required": [
          "newPassword"
        ],
        "type": "object",
        "properties": {
          "newPassword": {
            "maxLength": 50,
            "minLength": 6,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "Role": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "角色名称"
          },
          "code": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "角色代码（唯一标识）"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "description": "角色描述",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "description": "是否启用"
          },
          "sortOrder": {
            "type": "integer",
            "description": "排序顺序",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "角色实体"
      },
      "RolePermissionConfigDto": {
        "type": "object",
        "properties": {
          "roleCode": {
            "type": "string",
            "description": "角色代码",
            "nullable": true
          },
          "permissionCodes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "选中的权限代码列表（格式：{menuKey}.{action}，如：dashboard.view, patients.create）",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "角色权限配置DTO（三级权限树）"
      },
      "ShipCompany": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "contactUrl": {
            "maxLength": 200,
            "pattern": "^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$",
            "type": "string",
            "nullable": true
          },
          "phone": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "shipments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Shipment"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "物流公司枚举"
      },
      "Shipment": {
        "required": [
          "orderId",
          "shipCompanyId",
          "trackingNo"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "shipCompanyId": {
            "type": "string",
            "format": "uuid"
          },
          "trackingNo": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "packageIndex": {
            "type": "integer",
            "description": "包裹序号（多包裹时用于排序）",
            "format": "int32"
          },
          "shippedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "deliveredAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "status": {
            "maxLength": 30,
            "type": "string",
            "description": "状态（Pending/Shipped/InTransit/Delivered/Exception）",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "order": {
            "$ref": "#/components/schemas/Order"
          },
          "shipCompany": {
            "$ref": "#/components/schemas/ShipCompany"
          },
          "tracks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ShipmentTrack"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "发货单（支持一单多包裹）"
      },
      "ShipmentTrack": {
        "required": [
          "shipmentId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "shipmentId": {
            "type": "string",
            "format": "uuid"
          },
          "statusText": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "location": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "occurredAt": {
            "type": "string",
            "format": "date-time"
          },
          "rawPayload": {
            "type": "string",
            "nullable": true
          },
          "shipment": {
            "$ref": "#/components/schemas/Shipment"
          }
        },
        "additionalProperties": false,
        "description": "物流轨迹"
      },
      "UpdateCommentDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "nullable": true
          },
          "isDeleted": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "更新评论DTO"
      },
      "UpdateFeedbackDto": {
        "type": "object",
        "properties": {
          "title": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "content": {
            "maxLength": 2000,
            "type": "string",
            "nullable": true
          },
          "status": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "processNote": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateMedicalRecordDto": {
        "type": "object",
        "properties": {
          "height": {
            "type": "number",
            "description": "身高（cm）",
            "format": "double",
            "nullable": true
          },
          "weight": {
            "type": "number",
            "description": "体重（kg）",
            "format": "double",
            "nullable": true
          },
          "diseaseDuration": {
            "maxLength": 200,
            "type": "string",
            "description": "本次患病时长描述",
            "nullable": true
          },
          "diseaseName": {
            "maxLength": 200,
            "type": "string",
            "description": "疾病名称/症状",
            "nullable": true
          },
          "hasVisitedHospital": {
            "type": "boolean",
            "description": "是否已在医院就诊",
            "nullable": true
          },
          "currentMedications": {
            "maxLength": 1000,
            "type": "string",
            "description": "当前正在使用的药物",
            "nullable": true
          },
          "isPregnant": {
            "type": "boolean",
            "description": "当前是否怀孕",
            "nullable": true
          },
          "majorTreatmentHistory": {
            "maxLength": 2000,
            "type": "string",
            "description": "手术/放化疗等重大疾病治疗经历及慢性病史",
            "nullable": true
          },
          "allergyHistory": {
            "maxLength": 1000,
            "type": "string",
            "description": "药物过敏史",
            "nullable": true
          },
          "diseaseDescription": {
            "maxLength": 4000,
            "type": "string",
            "description": "详细病情描述",
            "nullable": true
          },
          "pastMedicalHistory": {
            "maxLength": 2000,
            "type": "string",
            "description": "既往病史",
            "nullable": true
          },
          "additionalNotes": {
            "maxLength": 2000,
            "type": "string",
            "description": "其他补充说明",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "更新病历DTO（用于追加补充）"
      },
      "UpdatePatientSupportGroupDto": {
        "type": "object",
        "properties": {
          "doctorId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "name": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "description": {
            "maxLength": 1000,
            "type": "string",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "更新患友会DTO"
      },
      "UpdatePostDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "content": {
            "type": "string",
            "nullable": true
          },
          "tag": {
            "type": "string",
            "nullable": true
          },
          "isPinned": {
            "type": "boolean",
            "nullable": true
          },
          "isDeleted": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "更新帖子DTO"
      },
      "UpdateProductDto": {
        "required": [
          "categoryId",
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "categoryId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "marketPrice": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean"
          },
          "isVirtual": {
            "type": "boolean"
          },
          "coverUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "更新商品DTO"
      },
      "UpdateTertiaryHospitalDto": {
        "required": [
          "cityId",
          "name",
          "provinceId"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "provinceId": {
            "type": "string",
            "format": "uuid"
          },
          "cityId": {
            "type": "string",
            "format": "uuid"
          },
          "address": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "level": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "type": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "phone": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "website": {
            "maxLength": 500,
            "pattern": "^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$",
            "type": "string",
            "nullable": true
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          },
          "isEnabled": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "UpdateUserDto": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "format": "tel",
            "nullable": true
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true
          },
          "role": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "bio": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "更新用户DTO（管理员）"
      },
      "User": {
        "required": [
          "passwordHash",
          "role",
          "username",
          "userTypeId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "username": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "用户名"
          },
          "passwordHash": {
            "maxLength": 255,
            "minLength": 1,
            "type": "string",
            "description": "密码哈希（加密存储）"
          },
          "phoneNumber": {
            "maxLength": 50,
            "type": "string",
            "description": "手机号",
            "nullable": true
          },
          "email": {
            "maxLength": 50,
            "type": "string",
            "description": "邮箱",
            "nullable": true
          },
          "avatarUrl": {
            "maxLength": 500,
            "type": "string",
            "description": "头像URL",
            "nullable": true
          },
          "bio": {
            "maxLength": 500,
            "type": "string",
            "description": "简介",
            "nullable": true
          },
          "role": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "角色：Patient（患者）、Doctor（医生）、Admin（管理员）"
          },
          "userTypeId": {
            "type": "integer",
            "description": "用户类型ID（关联到UserTypeDictionary表）\r\n1=System, 2=Doctor, 3=Patient",
            "format": "int32"
          },
          "isActive": {
            "type": "boolean",
            "description": "是否激活"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "设定删除标志，假删除用户（永久封禁）"
          },
          "userType": {
            "$ref": "#/components/schemas/UserTypeDictionary"
          },
          "posts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Post"
            },
            "nullable": true
          },
          "postComments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostComment"
            },
            "nullable": true
          },
          "postLikes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostLike"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "用户实体"
      },
      "UserAddress": {
        "required": [
          "consignee",
          "phone",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "consignee": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "phone": {
            "maxLength": 30,
            "minLength": 1,
            "type": "string"
          },
          "province": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "city": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "district": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "addressLine": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "isDefault": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "用户收货地址"
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "username": {
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "bio": {
            "type": "string",
            "nullable": true
          },
          "role": {
            "type": "string",
            "description": "角色代码（用于绑定，如 \"1\", \"2\", \"3\"）",
            "nullable": true
          },
          "roleName": {
            "type": "string",
            "description": "角色名称（用于显示，如 \"SuperAdmin\", \"Admin\", \"Business\"）",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "用户DTO"
      },
      "UserTypeDictionary": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "类型名称：System、Doctor、Patient"
          },
          "code": {
            "type": "integer",
            "description": "类型代码：1=System, 2=Doctor, 3=Patient",
            "format": "int32"
          },
          "description": {
            "maxLength": 200,
            "type": "string",
            "description": "描述",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "description": "是否启用"
          },
          "sortOrder": {
            "type": "integer",
            "description": "排序",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/User"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "用户类型字典实体"
      },
      "VisitRecord": {
        "required": [
          "doctorId",
          "patientId",
          "status",
          "visitDate",
          "visitType"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "patientId": {
            "type": "string",
            "description": "患者ID",
            "format": "uuid"
          },
          "doctorId": {
            "type": "string",
            "description": "医生ID",
            "format": "uuid"
          },
          "consultationId": {
            "type": "string",
            "description": "咨询ID（关联的咨询）",
            "format": "uuid",
            "nullable": true
          },
          "visitDate": {
            "type": "string",
            "description": "就诊日期",
            "format": "date-time"
          },
          "chiefComplaint": {
            "maxLength": 1000,
            "type": "string",
            "description": "主诉（患者描述的症状）",
            "nullable": true
          },
          "presentIllness": {
            "type": "string",
            "description": "现病史",
            "nullable": true
          },
          "diagnosis": {
            "maxLength": 1000,
            "type": "string",
            "description": "诊断结果",
            "nullable": true
          },
          "treatmentPlan": {
            "type": "string",
            "description": "治疗方案",
            "nullable": true
          },
          "medicalAdvice": {
            "type": "string",
            "description": "医嘱",
            "nullable": true
          },
          "visitType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "就诊类型：Outpatient（门诊）、Inpatient（住院）、Emergency（急诊）、FollowUp（复诊）"
          },
          "status": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "description": "状态：Completed（已完成）、InProgress（进行中）、Cancelled（已取消）"
          },
          "notes": {
            "maxLength": 1000,
            "type": "string",
            "description": "备注",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "创建时间",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新时间",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "就诊记录实体"
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "apiKey",
        "description": "JWT 授权头使用 Bearer 方案。例如: \"Authorization: Bearer {token}\"",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}